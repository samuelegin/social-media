{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.2/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="{% static 'css/home.css' %}" />
    <title>Document</title>
  </head>
  <body>
    <nav class="mobile-nav">
        <a href="{% url 'post:user_profile' request.user.id %}">
          <div class="profile">
            <img src="{{ request.user.profile_pic }}" alt="" />
          </div>
        </a>

      <h2>Feed</h2>

      <div class="notifications">
        <a href="{% url 'post:notification' %}">
          <i class="bi bi-bell"></i>
        </a>
        <span class="notification-number">{{ notification.count }}</span>
      </div>
    </nav>

    <!-- Desktop nav -->
    <nav class="desktop-nav">
      <div class="logo">
        <img src="./Assets/Images/20240102_013013.png" alt="" />
      </div>
      <h2>Feed</h2>

      <div class="icon-nav-links">
        <a href="./index.html">
          <i class="bi bi-house"></i>
        </a>
        <a href="./Assets/Pages/chats.html">
          <i class="bi bi-chat"></i>
        </a>
        <a href="./Assets/Pages/notifications.html">
          <i class="bi bi-bell"></i>
        </a>
        <a href="./Assets/Pages/settings.html">
          <i class="bi bi-gear"></i>
        </a>
      </div>
    </nav>

    <main>
      <div class="profile-scroll">
        <div class="story-cont">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="55"
            height="55"
            fill="purple"
            class="bi bi-plus-circle-fill"
            viewBox="0 0 16 16"
          >
            <path
              d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M8.5 4.5a.5.5 0 0 0-1 0v3h-3a.5.5 0 0 0 0 1h3v3a.5.5 0 0 0 1 0v-3h3a.5.5 0 0 0 0-1h-3z"
            />
          </svg>
          <div class="name">
            <h4>Add to story</h4>
          </div>
        </div>

        <div class="story-cont">
          <div class="story-indicator">
            <div class="profile">
              <a href="">
                <img src="./Assets/Images/Rectangle 3 (2).png" alt="" />
              </a>
            </div>
          </div>
          <div class="name">
            <h4>Jay huskins Ojomakpene</h4>
          </div>
        </div>

        <div class="story-cont">
          <div class="story-indicator">
            <div class="profile">
              <a href="">
                <img src="./Assets/Images/Rectangle 3 (3).png" alt="" />
              </a>
            </div>
          </div>
          <div class="name">
            <h4>Martin Luthur</h4>
          </div>
        </div>

        <div class="story-cont">
          <div class="story-indicator">
            <div class="profile">
              <a href="">
                <img src="./Assets/Images/Rectangle 3 (3).png" alt="" />
              </a>
            </div>
          </div>
          <div class="name">
            <h4>Harry Maguire</h4>
          </div>
        </div>

        <div class="story-cont">
          <div class="story-indicator">
            <div class="profile">
              <a href="">
                <img src="./Assets/Images/Rectangle 3.png" alt="" />
              </a>
            </div>
          </div>
          <div class="name">
            <h4>Donald Trump</h4>
          </div>
        </div>

        <div class="story-cont">
          <div class="story-indicator">
            <div class="profile">
              <a href="">
                <img src="./Assets/Images/Rectangle 3 (1).png" alt="" />
              </a>
            </div>
          </div>
          <div class="name">
            <h4>Steve Jobs</h4>
          </div>
        </div>

        <div class="story-cont">
          <div class="story-indicator">
            <div class="profile">
              <a href="">
                <img src="./Assets/Images/Rectangle 3 (2).png" alt="" />
              </a>
            </div>
          </div>
          <div class="name">
            <h4>Samuel Egin</h4>
          </div>
        </div>
      </div>

      <div class="main-feed">
        {% for post in posts %}
        {% if post.post_owner in request.user.follows.all %}
        <div class="post-cont">
          <div class="post-header">
            <div class="header-profile">
              <div class="story-indicator">
                <a href="{% url 'post:user_profile' post.post_owner.id %}">
                  <div class="profile">
                    <img src="{{ post.post_owner.profile_pic }}" alt="" />
                  </div>
                </a>
              </div>

              <div class="info">
                <h2 class="post-author">{{ post.post_owner.username }}</h2>
                <p class="post-timestamp">{{ post.date_posted }}</p>
              </div>
            </div>
            <div class="others">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="20"
                height="20"
                fill="currentColor"
                class="bi-three-dots-vertical"
                viewBox="0 0 16 16"
              >
                <path
                  d="M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"
                />
              </svg>
            </div>

            <div class="others-div">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="25"
                height="25"
                fill="currentColor"
                class="bi-x"
                viewBox="0 0 16 16"
              >
                <path
                  d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"
                />
              </svg>
              <a href="">Copy Link</a>
              <a href="">Don't show me this</a>
              <a href="">Save Post</a>
              <a href="">Share post</a>
            </div>
          </div>

          <p class="caption">{{ post.caption }}</p>

          <div class="post-img" style="margin-bottom:2em;">
            <img src="" alt="" />
          </div>

          <div class="complements">
            <button class="like" style="border:none; outline:none; background:none;" data-id="{{ post.id }}">
              <i class="bi bi-heart"></i>
            </button>
            <p class="likeNum">{{ post.like.count}}</p>
            <a href="">
              <i class="bi bi-chat"></i>
            </a>
          </div>
        </div>
        {% endif %}
        {% endfor %}
      </div>
    </main>

    <div class="footer-nav">
      <a href="{% url 'post:home' %}">
        <i class="bi bi-house"></i>
      </a>

      <a href="./Assets/Pages/chats.html">
        <i class="bi bi-chat"></i>
      </a>

      <a href="./Assets/Pages/settings.html">
        <i class="bi bi-gear"></i>
      </a>

      <a href="{% url 'post:follow' %}">
        <i class="bi bi-person-add"></i>
      </a>
    </div>

    <a href="{% url 'post:post' %}" class="open-file">
      <i class="bi bi-plus-circle-fill"></i>
    </a>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="{% static 'js/script.js' %}"></script>
  </body>
</html>
